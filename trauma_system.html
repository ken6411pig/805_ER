<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤–å‚·åœ–è­œç³»çµ±</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
        }

        .trauma-main-content {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 30px;
        }
        
        .view-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }
        
        .view-button {
            background: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .view-button.active {
            background: #007bff;
        }
        
        .view-button:hover {
            background: #495057;
        }
        
        .view-button.active:hover {
            background: #0056b3;
        }
        
        .body-diagram {
            position: relative;
            width: 300px;
            height: 600px;
            background: #fff;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 0 auto;
        }
        
        .body-part {
            position: absolute;
            border: 2px solid transparent;
            border-radius: 4px;
            cursor: pointer;
            background: rgba(0, 123, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
            transition: all 0.3s;
        }
        
        .body-part:hover {
            background: rgba(0, 123, 255, 0.2);
            border-color: #007bff;
        }
        
        .body-part.selected {
            background: rgba(255, 0, 0, 0.2);
            border-color: #dc3545;
        }
        
        /* æ­£é¢è¦–åœ– */
        .front-view .head { top: 20px; left: 100px; width: 100px; height: 100px; border-radius: 50%; }
        .front-view .neck { top: 115px; left: 130px; width: 40px; height: 30px; }
        .front-view .chest { top: 140px; left: 80px; width: 140px; height: 100px; }
        .front-view .abdomen { top: 240px; left: 90px; width: 120px; height: 80px; }
        .front-view .pelvis { top: 320px; left: 100px; width: 100px; height: 60px; }
        .front-view .left-arm { top: 160px; right: 30px; width: 40px; height: 150px; }
        .front-view .right-arm { top: 160px; left: 35px; width: 40px; height: 150px; }
        .front-view .left-leg { top: 380px; right: 90px; width: 50px; height: 180px; }
        .front-view .right-leg { top: 380px; left: 90px; width: 50px; height: 180px; }
        
        /* èƒŒé¢è¦–åœ– */
        .back-view .head { top: 20px; left: 100px; width: 100px; height: 100px; border-radius: 50%; }
        .back-view .neck { top: 115px; left: 130px; width: 40px; height: 30px; }
        .back-view .upper-back { top: 140px; left: 80px; width: 140px; height: 100px; }
        .back-view .lower-back { top: 240px; left: 90px; width: 120px; height: 80px; }
        .back-view .spine { top: 110px; left: 140px; width: 20px; height: 230px; }
        .back-view .buttocks { top: 320px; left: 100px; width: 100px; height: 60px; }
        .back-view .left-arm { top: 160px; left: 35px; width: 40px; height: 150px; }
        .back-view .right-arm { top: 160px; right: 30px; width: 40px; height: 150px; }
        .back-view .left-leg { top: 380px; left: 90px; width: 50px; height: 180px; }
        .back-view .right-leg { top: 380px; right: 90px; width: 50px; height: 180px; }
        
        .diagram-container {
            display: none;
        }
        
        .diagram-container.active {
            display: block;
        }
        
        .sub-part-selector {
            background: #e9ecef;
            border: 1px solid #ced4da;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 20px;
            display: none;
        }
        
        .sub-part-selector.active {
            display: block;
        }
        
        .sub-parts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 8px;
            margin-top: 10px;
        }
        
        .sub-part {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .sub-part:hover {
            background: #495057;
        }
        
        .injury-selector {
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 20px;
            display: none;
        }
        
        .injury-selector.active {
            display: block;
        }
        
        .injury-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 8px;
            margin-top: 10px;
        }
        
        .injury-type {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .injury-type:hover {
            background: #0056b3;
        }
        
        .selected-injuries {
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 20px;
            background: white;
        }
        
        .injury-item {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 10px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .injury-details {
            font-family: monospace;
            font-size: 13px;
        }
        
        .remove-injury {
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
        }
        
        .generate-report {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            margin-bottom: 10px;
        }

        .clear-report {
            background: #dc3545;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            margin-bottom: 15px;
        }

        .clear-report:hover {
            background: #c82333;
        }
        
        .report-output {
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            font-family: monospace;
            white-space: pre-wrap;
            line-height: 1.4;
            display: none;
        }
        
        .report-output.active {
            display: block;
        }
        
        .back-button {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin-bottom: 10px;
        }
        
        .back-button:hover {
            background: #495057;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>å¤–å‚·åœ–è­œç³»çµ±</h1>
        
        <div class="trauma-main-content">
            <div>
                <h3>èº«é«”éƒ¨ä½é¸æ“‡</h3>
                
                <div class="view-selector">
                    <button class="view-button active" onclick="switchView('front')">ğŸ‘¤ æ­£é¢</button>
                    <button class="view-button" onclick="switchView('back')">ğŸ”„ èƒŒé¢</button>
                </div>
                
                <!-- æ­£é¢è¦–åœ– -->
                <div class="diagram-container front-view active" id="front-diagram">
                    <div class="body-diagram">
                        <div class="body-part head" data-part="é ­éƒ¨" data-english="head">é ­éƒ¨</div>
                        <div class="body-part neck" data-part="é ¸éƒ¨" data-english="neck">é ¸éƒ¨</div>
                        <div class="body-part chest" data-part="èƒ¸éƒ¨" data-english="chest">èƒ¸éƒ¨</div>
                        <div class="body-part abdomen" data-part="è…¹éƒ¨" data-english="abdomen">è…¹éƒ¨</div>
                        <div class="body-part pelvis" data-part="æœƒé™°éƒ¨" data-english="perineum">æœƒé™°éƒ¨</div>
                        <div class="body-part left-arm" data-part="å·¦ä¸Šè‚¢" data-english="left upper limb">å·¦ä¸Šè‚¢</div>
                        <div class="body-part right-arm" data-part="å³ä¸Šè‚¢" data-english="right upper limb">å³ä¸Šè‚¢</div>
                        <div class="body-part left-leg" data-part="å·¦ä¸‹è‚¢" data-english="left lower limb">å·¦ä¸‹è‚¢</div>
                        <div class="body-part right-leg" data-part="å³ä¸‹è‚¢" data-english="right lower limb">å³ä¸‹è‚¢</div>
                    </div>
                </div>
                
                <!-- èƒŒé¢è¦–åœ– -->
                <div class="diagram-container back-view" id="back-diagram">
                    <div class="body-diagram">
                        <div class="body-part head" data-part="é ­éƒ¨" data-english="head">é ­éƒ¨</div>
                        <div class="body-part neck" data-part="é ¸éƒ¨" data-english="neck">é ¸éƒ¨</div>
                        <div class="body-part upper-back" data-part="ä¸ŠèƒŒéƒ¨" data-english="upper back">ä¸ŠèƒŒéƒ¨</div>
                        <div class="body-part lower-back" data-part="ä¸‹èƒŒéƒ¨" data-english="lower back">ä¸‹èƒŒéƒ¨</div>
                        <div class="body-part spine" data-part="è„Šæ¤" data-english="spine">è„Šæ¤</div>
                        <div class="body-part buttocks" data-part="è‡€éƒ¨" data-english="buttocks">è‡€éƒ¨</div>
                        <div class="body-part left-arm" data-part="å·¦ä¸Šè‚¢" data-english="left upper limb">å·¦ä¸Šè‚¢</div>
                        <div class="body-part right-arm" data-part="å³ä¸Šè‚¢" data-english="right upper limb">å³ä¸Šè‚¢</div>
                        <div class="body-part left-leg" data-part="å·¦ä¸‹è‚¢" data-english="left lower limb">å·¦ä¸‹è‚¢</div>
                        <div class="body-part right-leg" data-part="å³ä¸‹è‚¢" data-english="right lower limb">å³ä¸‹è‚¢</div>
                    </div>
                </div>
            </div>
            
            <div>
                <div class="sub-part-selector" id="sub-part-selector">
                    <button class="back-button" onclick="hideSubParts()">â† è¿”å›</button>
                    <h3 id="selected-main-part-title">é¸æ“‡ç´°éƒ¨ä½ç½®</h3>
                    <div class="sub-parts" id="sub-parts"></div>
                </div>
                
                <div class="injury-selector" id="injury-selector">
                    <button class="back-button" onclick="backToSubParts()">â† è¿”å›</button>
                    <h3 id="selected-part-title">é¸æ“‡å¤–å‚·é¡å‹</h3>
                    <div class="injury-types" id="injury-types"></div>
                </div>
                
                <div class="selected-injuries">
                    <h3>å·²ç™»è¨˜å¤–å‚·ï¼š</h3>
                    <div id="injury-list">
                        <p>å°šæœªé¸æ“‡ä»»ä½•å¤–å‚·</p>
                    </div>
                </div>
                
                <button class="generate-report" onclick="generateReport()">ç”¢ç”Ÿè¨ºæ–·</button>
                <button class="clear-report" onclick="clearReport()">æ¸…é™¤</button>

                <div class="report-output" id="report-output"></div>
            </div>
        </div>
    </div>

    <script>
        const subPartDatabase = {
            'é ­éƒ¨': [
                { part: 'é ­éƒ¨', english: 'head' },
                { part: 'è‡‰éƒ¨', english: 'face' },
                { part: 'çœ¼éƒ¨', english: 'eye' },
                { part: 'é¼»éƒ¨', english: 'nose' },
                { part: 'è€³éƒ¨', english: 'ear' },
                { part: 'è‡‰é °', english: 'cheek' },
                { part: 'å£éƒ¨', english: 'mouth' },
                { part: 'ä¸‹é¡', english: 'jaw' },
                { part: 'ä¸‹å·´', english: 'chin' }
            ],
            'å·¦ä¸Šè‚¢': [
                { part: 'å·¦è‚©', english: 'left shoulder' },
                { part: 'å·¦ä¸Šè‡‚', english: 'left upper arm' },
                { part: 'å·¦è‚˜éƒ¨', english: 'left elbow' },
                { part: 'å·¦å‰è‡‚', english: 'left forearm' },
                { part: 'å·¦æ‰‹è…•', english: 'left wrist' },
                { part: 'å·¦æ‰‹æŒ', english: 'left hand' },
                { part: 'å·¦æ‰‹æŒ‡', english: 'left fingers' }
            ],
            'å³ä¸Šè‚¢': [
                { part: 'å³è‚©', english: 'right shoulder' },
                { part: 'å³ä¸Šè‡‚', english: 'right upper arm' },
                { part: 'å³è‚˜éƒ¨', english: 'right elbow' },
                { part: 'å³å‰è‡‚', english: 'right forearm' },
                { part: 'å³æ‰‹è…•', english: 'right wrist' },
                { part: 'å³æ‰‹æŒ', english: 'right hand' },
                { part: 'å³æ‰‹æŒ‡', english: 'right fingers' }
            ],
            'å·¦ä¸‹è‚¢': [
                { part: 'å·¦é«–éƒ¨', english: 'left hip' },
                { part: 'å·¦å¤§è…¿', english: 'left thigh' },
                { part: 'å·¦è†', english: 'left knee' },
                { part: 'å·¦å°è…¿', english: 'left lower leg' },
                { part: 'å·¦è¸', english: 'left ankle' },
                { part: 'å·¦è¶³éƒ¨', english: 'left foot' },
                { part: 'å·¦è…³è¶¾', english: 'left toes' }
            ],
            'å³ä¸‹è‚¢': [
                { part: 'å³é«–éƒ¨', english: 'right hip' },
                { part: 'å³å¤§è…¿', english: 'right thigh' },
                { part: 'å³è†', english: 'right knee' },
                { part: 'å³å°è…¿', english: 'right lower leg' },
                { part: 'å³è¸', english: 'right ankle' },
                { part: 'å³è¶³éƒ¨', english: 'right foot' },
                { part: 'å³è…³è¶¾', english: 'right toes' }
            ],
            'è„Šæ¤': [
                { part: 'é ¸æ¤', english: 'cervical spine' },
                { part: 'èƒ¸æ¤', english: 'thoracic spine' },
                { part: 'è…°æ¤', english: 'lumbar spine' },
                { part: 'è–¦æ¤', english: 'sacral spine' },
                { part: 'å°¾æ¤', english: 'coccyx' }
            ]
        };

        const injuryDatabase = {
            'é ¸éƒ¨': [
                { type: 'A/W', icd: 'S10.11XA', english: 'abrasion/wound of neck', chinese: 'é ¸éƒ¨æ“¦å‚·' },
                { type: 'L/W', icd: 'S11.90XA', english: 'laceration/wound of neck', chinese: 'é ¸éƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S10.93', english: 'contusion of neck', chinese: 'é ¸éƒ¨æŒ«å‚·' },
                { type: 'Strain', icd: 'S16.1XXA', english: 'strain of neck', chinese: 'é ¸éƒ¨æ‹‰å‚·' }
            ],
            'èƒ¸éƒ¨': [
                { type: 'A/W', icd: 'S20419A', english: 'abrasion/wound of chest', chinese: 'èƒ¸éƒ¨æ“¦å‚·' },
                { type: 'L/W', icd: 'S21119A', english: 'laceration/wound of chest', chinese: 'èƒ¸éƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S20219A', english: 'contusion of chest', chinese: 'èƒ¸éƒ¨æŒ«å‚·' },
                { type: 'Fracture', icd: 'ä¸€è‚‹S2239XA/å¤šè‚‹S2249XA/èƒ¸S22.20XA', english: 'fracture of rib/sternum', chinese: 'è‚‹éª¨/èƒ¸éª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S280XXA', english: 'crushing injury of chest', chinese: 'èƒ¸éƒ¨å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T2101XA', english: 'burn of trunk', chinese: 'è»€å¹¹ç‡’å‚·' },
                { type: 'Strain', icd: 'S29011A', english: 'strain of chest', chinese: 'èƒ¸éƒ¨è‚Œè‚‰æ‹‰å‚·' }
            ],
            'è…¹éƒ¨': [
                { type: 'A/W', icd: 'S30811A', english: 'abrasion/wound of abdomen', chinese: 'è…¹éƒ¨æ“¦å‚·' },
                { type: 'L/W', icd: 'S31119A', english: 'laceration/wound of abdomen', chinese: 'è…¹éƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S301XXA', english: 'contusion of abdomen', chinese: 'è…¹éƒ¨æŒ«å‚·' },
                { type: 'Crush', icd: 'S381XXA', english: 'crushing injury of abdomen', chinese: 'è…¹éƒ¨å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T2102XA', english: 'burn of abdomen', chinese: 'è…¹éƒ¨ç‡’å‚·' },
                { type: 'Strain', icd: 'S39011A', english: 'strain of abdomen', chinese: 'è…¹éƒ¨è‚Œè‚‰æ‹‰å‚·' },
            ],
            'æœƒé™°éƒ¨': [
                { type: 'A/W', icd: 'S30812A', english: 'abrasion/wound of perineum', chinese: 'æœƒé™°éƒ¨æ“¦å‚·' },
                { type: 'L/W', icd: 'ç”·S3121XA/å›ŠS3131XA/å¥³S3141XA', english: 'laceration/wound of perineum', chinese: 'æœƒé™°éƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S3021XA', english: 'contusion of perineum', chinese: 'æœƒé™°éƒ¨æŒ«å‚·' },
                { type: 'Burn', icd: 'ç”·T2106XA/å¥³T2107XA', english: 'burn of perineum', chinese: 'æœƒé™°éƒ¨ç‡’å‚·' },
                { type: 'Fracture', icd: 'ç©©å®šéª¨ç›†S32810A/ä¸ç©©å®šS32811A', english: 'fracture of pelvis(iliac/ischial/pubic bone/acetabular)', chinese: 'éª¨ç›†éª¨æŠ˜(é«‚éª¨/åéª¨/æ¥éª¨/é«–è‡¼)' },
            ],
            'ä¸ŠèƒŒéƒ¨': [
                { type: 'A/W', icd: 'S20419A', english: 'abrasion/wound of upper back', chinese: 'ä¸ŠèƒŒéƒ¨æ“¦å‚·' },
                { type: 'L/W', icd: 'S21219A', english: 'laceration/wound of upper back', chinese: 'ä¸ŠèƒŒéƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S20229A', english: 'contusion of upper back', chinese: 'ä¸ŠèƒŒéƒ¨æŒ«å‚·' },
                { type: 'Burn', icd: 'T2103XA', english: 'burn of upper back', chinese: 'ä¸ŠèƒŒéƒ¨ç‡’å‚·' },
                { type: 'Crush', icd: 'S280XXA', english: 'crush injury of upper back', chinese: 'ä¸ŠèƒŒéƒ¨å£“ç ¸å‚·' },
                { type: 'Strain', icd: 'S29012A', english: 'strain of upper back muscles', chinese: 'ä¸ŠèƒŒéƒ¨è‚Œè‚‰æ‹‰å‚·' },
                { type: 'Sprain', icd: 'S239XXA', english: 'sprain of upper back ligaments', chinese: 'ä¸ŠèƒŒéƒ¨éŸŒå¸¶æ‰­å‚·' }
            ],
            'ä¸‹èƒŒéƒ¨': [
                { type: 'A/W', icd: 'S30810A', english: 'abrasion/wound of lower back', chinese: 'ä¸‹èƒŒéƒ¨æ“¦å‚·' },
                { type: 'L/W', icd: 'S31010A', english: 'laceration/wound of lower back', chinese: 'ä¸‹èƒŒéƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S300XXA', english: 'contusion of lower back', chinese: 'ä¸‹èƒŒéƒ¨æŒ«å‚·' },
                { type: 'Burn', icd: 'T2104XA', english: 'burn of lower back', chinese: 'ä¸‹èƒŒéƒ¨ç‡’å‚·' },
                { type: 'Crush', icd: 'S381XXA', english: 'crush injury of lower back', chinese: 'ä¸‹èƒŒéƒ¨å£“ç ¸å‚·' },
                { type: 'Strain', icd: 'M545', english: 'strain of lower back muscles', chinese: 'ä¸‹èƒŒéƒ¨è‚Œè‚‰æ‹‰å‚·' },
                { type: 'Sprain', icd: 'S39012A', english: 'sprain of lower back ligaments', chinese: 'ä¸‹èƒŒéƒ¨éŸŒå¸¶æ‰­å‚·' }
            ],
            'è‡€éƒ¨': [
                { type: 'A/W', icd: 'S30.810A', english: 'abrasion/wound of buttock', chinese: 'è‡€éƒ¨æ“¦å‚·' },
                { type: 'L/W', icd: 'S31.801A', english: 'laceration/wound of buttock', chinese: 'è‡€éƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S30.0XXA', english: 'contusion of buttock', chinese: 'è‡€éƒ¨æŒ«å‚·' },
                { type: 'Burn', icd: 'T21.05XA', english: 'burn of buttock', chinese: 'è‡€éƒ¨ç‡’å‚·' },
                { type: 'Fracture', icd: 'ç©©å®šéª¨ç›†S32810A/ä¸ç©©å®šS32811A', english: 'fracture of pelvis(iliac/ischial/pubic bone/acetabular)', chinese: 'éª¨ç›†éª¨æŠ˜(é«‚éª¨/åéª¨/æ¥éª¨/é«–è‡¼)' },
            ],
            'é ¸æ¤': [
                { type: 'Fracture', icd: 'S12.9XXA', english: 'fracture of cervical vertebra', chinese: 'é ¸æ¤éª¨æŠ˜' },
            ],
            'èƒ¸æ¤': [
                { type: 'Fracture', icd: 'S22.000A', english: 'fracture of thoracic vertebra', chinese: 'èƒ¸æ¤éª¨æŠ˜' },
            ],
            'è…°æ¤': [
                { type: 'Fracture', icd: 'S32.000A', english: 'fracture of lumbar vertebra', chinese: 'è…°æ¤éª¨æŠ˜' },
            ],
            'è–¦æ¤': [
                { type: 'Fracture', icd: 'S32.10XA', english: 'fracture of sacrum', chinese: 'è–¦æ¤éª¨æŠ˜' },
            ],
            'å°¾æ¤': [
                { type: 'Fracture', icd: 'S32.2XXA', english: 'fracture of coccyx', chinese: 'å°¾æ¤éª¨æŠ˜' },
                { type: 'Burn', icd: 'T21.05XA', english: 'burn of coccyx', chinese: 'å°¾æ¤ç‡’å‚·' },
                { type: 'Dislocation', icd: 'S33.2XXA', english: 'dislocation of coccyx', chinese: 'å°¾æ¤è„«ä½' }
            ],
            'è‚©èƒ›éª¨': [
                { type: 'Fracture', icd: 'S42.109A', english: 'fracture of scapula', chinese: 'è‚©èƒ›éª¨éª¨æŠ˜' },
            ],
            'é ­éƒ¨': [
                { type: 'A/W', icd: 'S0001XA', english: 'abrasion/wound of head', chinese: 'é ­éƒ¨æ“¦å‚·' },
                { type: 'Fracture', icd: 'S0291XA', english: 'fracture of skull', chinese: 'é¡±éª¨éª¨æŠ˜' },
                { type: 'L/W', icd: 'S0101XA', english: 'laceration/wound of head', chinese: 'é ­éƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S0093XA', english: 'contusion of head', chinese: 'é ­éƒ¨æŒ«å‚·' },
                { type: 'Burn', icd: 'T2009XA', english: 'burn of head', chinese: 'é ­éƒ¨ç‡’å‚·' }, 
                { type: 'Concussion', icd: 'S060X9A', english: 'concussion', chinese: 'è…¦éœ‡ç›ª' }, 
                { type: 'ICH', icd: 'S06369A', english: 'ICH of frontal/parietal/temporal/occipital lobe/basal ganglia/thalamus/internal capsule/brainstem/cerebellum', chinese: 'è…¦å…§å‡ºè¡€' }, 
                { type: 'SDH', icd: 'S065X9A', english: 'SDH of frontal/parietal/temporal/occipital lobe', chinese: 'ç¡¬è…¦è†œä¸‹å‡ºè¡€' }, 
                { type: 'SAH', icd: 'S066X9A', english: 'SAH', chinese: 'èœ˜è››è†œä¸‹è…”å‡ºè¡€' }, 
                { type: 'EDH', icd: 'S064X9A', english: 'EDH of frontal/parietal/temporal/occipital lobe', chinese: 'ç¡¬è…¦è†œå¤–å‡ºè¡€' }, 
            ],
            'è‡‰éƒ¨': [
                { type: 'A/W', icd: 'S0081XA', english: 'abrasion/wound of face', chinese: 'è‡‰éƒ¨æ“¦å‚·' },
                { type: 'L/W', icd: 'S01419A', english: 'laceration/wound of face', chinese: 'è‡‰éƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S0993XA', english: 'contusion of face', chinese: 'è‡‰éƒ¨æŒ«å‚·' },
                { type: 'Fracture', icd: 'S0292XA', english: 'fracture of facial bones', chinese: 'é¡é¢éª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S070XXA', english: 'crush injury of face', chinese: 'è‡‰éƒ¨å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T2009XA', english: 'burn of face', chinese: 'è‡‰éƒ¨ç‡’å‚·' },
            ],
            'çœ¼éƒ¨': [
                { type: 'A/W', icd: 'S00.211A', english: 'abrasion/wound of eyelid', chinese: 'çœ¼ç¼æ“¦å‚·' },
                { type: 'L/W', icd: 'S01.112A', english: 'laceration/wound of eyelid', chinese: 'çœ¼ç¼æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S00.10XA', english: 'contusion of eyelid', chinese: 'çœ¼ç¼æŒ«å‚·' },
                { type: 'Fracture', icd: 'S02.85XA', english: 'orbital fracture', chinese: 'çœ¼çœ¶éª¨æŠ˜' }
            ],
            'é¼»éƒ¨': [
                { type: 'A/W', icd: 'S0031XA', english: 'abrasion/wound of nose', chinese: 'é¼»éƒ¨æ“¦å‚·' },
                { type: 'L/W', icd: 'S0121XA', english: 'laceration/wound of nose', chinese: 'é¼»éƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S0033XA', english: 'contusion of nose', chinese: 'é¼»éƒ¨æŒ«å‚·' },
                { type: 'Fracture', icd: 'S022XA', english: 'fracture of nasal bones', chinese: 'é¼»éª¨éª¨æŠ˜' },
                { type: 'Burn', icd: 'T2004XA', english: 'burn of nose', chinese: 'é¼»éƒ¨ç‡’å‚·' }
            ],
            'è€³éƒ¨': [
                { type: 'A/W', icd: 'S00149A', english: 'abrasion/wound of ear', chinese: 'è€³éƒ¨æ“¦å‚·' },
                { type: 'L/W', icd: 'S00149A', english: 'laceration/wound of ear', chinese: 'è€³éƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S00439A', english: 'contusion of ear', chinese: 'è€³éƒ¨æŒ«å‚·' },
                { type: 'Burn', icd: 'T20019A', english: 'burn of ear', chinese: 'è€³éƒ¨ç‡’å‚·' },
            ],
            'å£éƒ¨': [
                { type: 'A/W', icd: 'S00512A', english: 'abrasion/wound of lip', chinese: 'å”‡éƒ¨æ“¦å‚·' },
                { type: 'L/W', icd: 'S01511A', english: 'laceration/wound of lip', chinese: 'å”‡éƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S00532A', english: 'contusion of lip', chinese: 'å”‡éƒ¨æŒ«å‚·' },
                { type: 'Burn', icd: 'T280XXA', english: 'burn of lip', chinese: 'å”‡éƒ¨ç‡’å‚·' },
            ],
            'è‡‰é °': [
                { type: 'A/W', icd: 'S0081XA', english: 'abrasion/wound of cheek', chinese: 'è‡‰é °æ“¦å‚·' },
                { type: 'L/W', icd: 'S01419A', english: 'laceration/wound of cheek', chinese: 'è‡‰é °æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S0993XA', english: 'contusion of cheek', chinese: 'è‡‰é °æŒ«å‚·' },
                { type: 'Fracture', icd: 'S02.4', english: 'fracture of zygomatic bone', chinese: 'é¡´éª¨éª¨æŠ˜' },
                { type: 'Burn', icd: 'T2009XA', english: 'burn of cheek', chinese: 'è‡‰é °ç‡’å‚·' }
            ],
            'ä¸‹é¡': [
                { type: 'A/W', icd: 'S0081XA', english: 'abrasion/wound of jaw', chinese: 'ä¸‹é¡æ“¦å‚·' },
                { type: 'L/W', icd: 'S01419A', english: 'laceration/wound of jaw', chinese: 'ä¸‹é¡æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S0993XA', english: 'contusion of jaw', chinese: 'ä¸‹é¡æŒ«å‚·' },
                { type: 'Fracture', icd: 'S02.6', english: 'fracture of mandible', chinese: 'ä¸‹é¡éª¨éª¨æŠ˜' },
                { type: 'Dislocation', icd: 'S03.0', english: 'dislocation of jaw', chinese: 'ä¸‹é¡è„«ä½' },
                { type: 'Burn', icd: 'T2009XA', english: 'burn of jaw', chinese: 'ä¸‹é¡ç‡’å‚·' }
            ],
            'ä¸‹å·´': [
                { type: 'A/W', icd: 'S0081XA', english: 'abrasion/wound of chin', chinese: 'ä¸‹å·´æ“¦å‚·' },
                { type: 'L/W', icd: 'S01419A', english: 'laceration/wound of chin', chinese: 'ä¸‹å·´æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S0993XA', english: 'contusion of chin', chinese: 'ä¸‹å·´æŒ«å‚·' },
                { type: 'Burn', icd: 'T2009XA', english: 'burn of chin', chinese: 'ä¸‹å·´ç‡’å‚·' }
            ],
            'å·¦è‚©': [
                { type: 'A/W', icd: 'S40219A', english: 'abrasion/wound of left shoulder', chinese: 'å·¦è‚©æ“¦å‚·' },
                { type: 'L/W', icd: 'S41019A', english: 'laceration/wound of left shoulder', chinese: 'å·¦è‚©æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S40019A', english: 'contusion of left shoulder', chinese: 'å·¦è‚©æŒ«å‚·' },
                { type: 'Fracture', icd: 'S42009A', english: 'fracture of left clavicle', chinese: 'å·¦é–éª¨éª¨æŠ˜' },
                { type: 'Dislocation', icd: 'S43006A', english: 'dislocation of left shoulder', chinese: 'å·¦è‚©è„«ä½' },
                { type: 'Sprain', icd: 'S43409A', english: 'sprain of left shoulder', chinese: 'å·¦è‚©æ‰­å‚·' },
                { type: 'Strain', icd: 'S46019A', english: 'strain of left shoulder', chinese: 'å·¦è‚©æ‹‰å‚·' }
            ],
            'å³è‚©': [
                { type: 'A/W', icd: 'S40219A', english: 'abrasion/wound of right shoulder', chinese: 'å³è‚©æ“¦å‚·' },
                { type: 'L/W', icd: 'S41019A', english: 'laceration/wound of right shoulder', chinese: 'å³è‚©æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S40019A', english: 'contusion of right shoulder', chinese: 'å³è‚©æŒ«å‚·' },
                { type: 'Fracture', icd: 'S42009A', english: 'fracture of right clavicle', chinese: 'å³é–éª¨éª¨æŠ˜' },
                { type: 'Dislocation', icd: 'S43006A', english: 'dislocation of right shoulder', chinese: 'å³è‚©è„«ä½' },
                { type: 'Sprain', icd: 'S43409A', english: 'sprain of right shoulder', chinese: 'å³è‚©æ‰­å‚·' },
                { type: 'Strain', icd: 'S46019A', english: 'strain of right shoulder', chinese: 'å³è‚©æ‹‰å‚·' }
            ],
            'å·¦ä¸Šè‡‚': [
                { type: 'A/W', icd: 'S40819A', english: 'abrasion/wound of left upper arm', chinese: 'å·¦ä¸Šè‡‚æ“¦å‚·' },
                { type: 'L/W', icd: 'S41109A', english: 'laceration/wound of left upper arm', chinese: 'å·¦ä¸Šè‡‚æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S40029A', english: 'contusion of left upper arm', chinese: 'å·¦ä¸Šè‡‚æŒ«å‚·' },
                { type: 'Fracture', icd: 'S42209A', english: 'fracture of left humerus', chinese: 'å·¦è‚±éª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S479XXA', english: 'crush injury of left upper arm', chinese: 'å·¦ä¸Šè‡‚å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T22039A', english: 'burn of left upper arm', chinese: 'å·¦ä¸Šè‡‚ç‡’å‚·' },
                { type: 'Strain', icd: 'S46919A', english: 'strain of left upper arm', chinese: 'å·¦ä¸Šè‡‚æ‹‰å‚·' },
            ],
            'å³ä¸Šè‡‚': [
                { type: 'A/W', icd: 'S40819A', english: 'abrasion/wound of right upper arm', chinese: 'å³ä¸Šè‡‚æ“¦å‚·' },
                { type: 'L/W', icd: 'S41109A', english: 'laceration/wound of right upper arm', chinese: 'å³ä¸Šè‡‚æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S40029A', english: 'contusion of right upper arm', chinese: 'å³ä¸Šè‡‚æŒ«å‚·' },
                { type: 'Fracture', icd: 'S42209A', english: 'fracture of right humerus', chinese: 'å³è‚±éª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S479XXA', english: 'crush injury of right upper arm', chinese: 'å³ä¸Šè‡‚å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T22039A', english: 'burn of right upper arm', chinese: 'å³ä¸Šè‡‚ç‡’å‚·' },
                { type: 'Strain', icd: 'S46919A', english: 'strain of right upper arm', chinese: 'å³ä¸Šè‡‚æ‹‰å‚·' },
            ],
            'å·¦è‚˜éƒ¨': [
                { type: 'A/W', icd: 'S50319A', english: 'abrasion/wound of left elbow', chinese: 'å·¦è‚˜æ“¦å‚·' },
                { type: 'L/W', icd: 'S51019A', english: 'laceration/wound of left elbow', chinese: 'å·¦è‚˜æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S5000XA', english: 'contusion of left elbow', chinese: 'å·¦è‚˜æŒ«å‚·' },
                { type: 'Crush', icd: 'S5700XA', english: 'crush injury of left elbow', chinese: 'å·¦è‚˜å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T22029A', english: 'burn of left elbow', chinese: 'å·¦è‚˜éƒ¨ç‡’å‚·' },
                { type: 'Fracture', icd: 'æ©ˆS52109A/å°ºS52009A', english: 'fracture of left radius/ulna', chinese: 'å·¦æ©ˆéª¨/å°ºéª¨éª¨æŠ˜' },
                { type: 'Dislocation', icd: 'S53006A', english: 'dislocation of left elbow', chinese: 'å·¦è‚˜è„«ä½' },
                { type: 'Sprain', icd: 'S53409A', english: 'sprain of left elbow', chinese: 'å·¦è‚˜æ‰­å‚·' }
            ],
            'å³è‚˜éƒ¨': [
                { type: 'A/W', icd: 'S50319A', english: 'abrasion/wound of right elbow', chinese: 'å³è‚˜æ“¦å‚·' },
                { type: 'L/W', icd: 'S51019A', english: 'laceration/wound of right elbow', chinese: 'å³è‚˜æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S5000XA', english: 'contusion of right elbow', chinese: 'å³è‚˜æŒ«å‚·' },
                { type: 'Crush', icd: 'S5700XA', english: 'crush injury of right elbow', chinese: 'å³è‚˜å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T22029A', english: 'burn of right elbow', chinese: 'å³è‚˜ç‡’å‚·' },
                { type: 'Fracture', icd: 'æ©ˆS52109A/å°ºS52009A', english: 'fracture of right radius/ulna', chinese: 'å³æ©ˆéª¨/å°ºéª¨éª¨æŠ˜' },
                { type: 'Dislocation', icd: 'S53006A', english: 'dislocation of right elbow', chinese: 'å³è‚˜è„«ä½' },
                { type: 'Sprain', icd: 'S53409A', english: 'sprain of right elbow', chinese: 'å³è‚˜æ‰­å‚·' }            
            ],
            'å·¦å‰è‡‚': [
                { type: 'A/W', icd: 'S50819A', english: 'abrasion/wound of left forearm', chinese: 'å·¦å‰è‡‚æ“¦å‚·' },
                { type: 'L/W', icd: 'S51819A', english: 'laceration/wound of left forearm', chinese: 'å·¦å‰è‡‚æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S5010XA', english: 'contusion of left forearm', chinese: 'å·¦å‰è‡‚æŒ«å‚·' },
                { type: 'Fracture', icd: 'æ©ˆS52509A/å°ºS52609A', english: 'fracture of left distal radius/ulna', chinese: 'å·¦é ç«¯æ©ˆéª¨/å°ºéª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S5780XA', english: 'crush injury of left forearm', chinese: 'å·¦å‰è‡‚å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T22019A', english: 'burn of left forearm', chinese: 'å·¦å‰è‡‚ç‡’å‚·' },
                { type: 'Strain', icd: 'S56919A', english: 'strain of left forearm', chinese: 'å·¦å‰è‡‚æ‹‰å‚·' },
            ],
            'å³å‰è‡‚': [
                { type: 'A/W', icd: 'S50819A', english: 'abrasion/wound of right forearm', chinese: 'å³å‰è‡‚æ“¦å‚·' },
                { type: 'L/W', icd: 'S51819A', english: 'laceration/wound of right forearm', chinese: 'å³å‰è‡‚æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S5010XA', english: 'contusion of right forearm', chinese: 'å³å‰è‡‚æŒ«å‚·' },
                { type: 'Fracture', icd: 'æ©ˆS52509A/å°ºS52609A', english: 'fracture of right distal radius/ulna', chinese: 'å³é ç«¯æ©ˆéª¨/å°ºéª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S5780XA', english: 'crush injury of right forearm', chinese: 'å³å‰è‡‚å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T22019A', english: 'burn of right forearm', chinese: 'å³å‰è‡‚ç‡’å‚·' },
                { type: 'Strain', icd: 'S56919A', english: 'strain of right forearm', chinese: 'å³å‰è‡‚æ‹‰å‚·' },
            ],
            'å·¦æ‰‹è…•': [
                { type: 'A/W', icd: 'S60819A', english: 'abrasion/wound of left wrist', chinese: 'å·¦æ‰‹è…•æ“¦å‚·' },
                { type: 'L/W', icd: 'S61519A', english: 'laceration/wound of left wrist', chinese: 'å·¦æ‰‹è…•æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S60219A', english: 'contusion of left wrist', chinese: 'å·¦æ‰‹è…•æŒ«å‚·' },
                { type: 'Fracture', icd: 'S62109A', english: 'fracture of left wrist', chinese: 'å·¦æ‰‹è…•éª¨æŠ˜' },
                { type: 'Sprain', icd: 'S63509A', english: 'sprain of left wrist', chinese: 'å·¦æ‰‹è…•æ‰­å‚·' },
                { type: 'Crush', icd: 'S6730XA', english: 'crush injury of left wrist', chinese: 'å·¦æ‰‹è…•å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T23079A', english: 'burn of left wrist', chinese: 'å·¦æ‰‹è…•ç‡’å‚·' },
                { type: 'Dislocation', icd: 'S63006A', english: 'dislocation of left wrist', chinese: 'å·¦æ‰‹è…•è„«ä½' }
            ],
            'å³æ‰‹è…•': [
                { type: 'A/W', icd: 'S60819A', english: 'abrasion/wound of right wrist', chinese: 'å³æ‰‹è…•æ“¦å‚·' },
                { type: 'L/W', icd: 'S61519A', english: 'laceration/wound of right wrist', chinese: 'å³æ‰‹è…•æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S60219A', english: 'contusion of right wrist', chinese: 'å³æ‰‹è…•æŒ«å‚·' },
                { type: 'Fracture', icd: 'S62109A', english: 'fracture of right wrist', chinese: 'å³æ‰‹è…•éª¨æŠ˜' },
                { type: 'Sprain', icd: 'S63509A', english: 'sprain of right wrist', chinese: 'å³æ‰‹è…•æ‰­å‚·' },
                { type: 'Crush', icd: 'S6730XA', english: 'crush injury of right wrist', chinese: 'å³æ‰‹è…•å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T23079A', english: 'burn of right wrist', chinese: 'å³æ‰‹è…•ç‡’å‚·' },
                { type: 'Dislocation', icd: 'S63006A', english: 'dislocation of right wrist', chinese: 'å³æ‰‹è…•è„«ä½' }
            ],
            'å·¦æ‰‹æŒ': [
                { type: 'A/W', icd: 'S60519A', english: 'abrasion/wound of left hand', chinese: 'å·¦æ‰‹æŒæ“¦å‚·' },
                { type: 'L/W', icd: 'S61419A', english: 'laceration/wound of left hand', chinese: 'å·¦æ‰‹æŒæ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S60229A', english: 'contusion of left hand', chinese: 'å·¦æ‰‹æŒæŒ«å‚·' },
                { type: 'Crush', icd: 'S6720XA', english: 'crush injury of left hand', chinese: 'å·¦æ‰‹æŒå£“ç ¸å‚·' },
                { type: 'Fracture', icd: 'S62399A', english: 'fracture of left metacarpal bone fracture', chinese: 'å·¦æŒéª¨éª¨æŠ˜' },
                { type: 'Burn', icd: 'T23009A', english: 'burn of left hand', chinese: 'å·¦æ‰‹æŒç‡’å‚·' },
                { type: 'Sprain', icd: 'S638X9A', english: 'sprain of left hand', chinese: 'å·¦æ‰‹æŒæ‰­å‚·' },
                { type: 'Strain', icd: 'S66919A', english: 'strain of left hand', chinese: 'å·¦æ‰‹æŒæ‹‰å‚·' }
            ],
            'å³æ‰‹æŒ': [
                { type: 'A/W', icd: 'S60519A', english: 'abrasion/wound of right hand', chinese: 'å³æ‰‹æŒæ“¦å‚·' },
                { type: 'L/W', icd: 'S61419A', english: 'laceration/wound of right hand', chinese: 'å³æ‰‹æŒæ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S60229A', english: 'contusion of right hand', chinese: 'å³æ‰‹æŒæŒ«å‚·' },
                { type: 'Crush', icd: 'S6720XA', english: 'crush injury of right hand', chinese: 'å³æ‰‹æŒå£“ç ¸å‚·' },
                { type: 'Fracture', icd: 'S62399A', english: 'fracture of right metacarpal bone fracture', chinese: 'å³æŒéª¨éª¨æŠ˜' },
                { type: 'Burn', icd: 'T23009A', english: 'burn of right hand', chinese: 'å³æ‰‹æŒç‡’å‚·' },
                { type: 'Sprain', icd: 'S638X9A', english: 'sprain of right hand', chinese: 'å³æ‰‹æŒæ‰­å‚·' },
                { type: 'Strain', icd: 'S66919A', english: 'strain of right hand', chinese: 'å³æ‰‹æŒæ‹‰å‚·' }
            ],
            'å·¦æ‰‹æŒ‡': [
                { type: 'A/W', icd: 'S60419A', english: 'abrasion/wound of left finger', chinese: 'å·¦æ‰‹æŒ‡æ“¦å‚·' },
                { type: 'L/W', icd: 'S61219A', english: 'laceration/wound of left finger', chinese: 'å·¦æ‰‹æŒ‡æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S6000XA', english: 'contusion of left finger', chinese: 'å·¦æ‰‹æŒ‡æŒ«å‚·' },
                { type: 'Burn', icd: 'T23049A', english: 'burn of left finger', chinese: 'å·¦æ‰‹æŒ‡ç‡’å‚·' },
                { type: 'Crush', icd: 'S6720XA', english: 'crush injury of left finger', chinese: 'å·¦æ‰‹æŒ‡å£“ç ¸å‚·' },
                { type: 'Fracture', icd: 'S62609A', english: 'fracture of left finger', chinese: 'å·¦æ‰‹æŒ‡éª¨æŠ˜' },
                { type: 'Dislocation', icd: 'S63259A', english: 'dislocation of left finger', chinese: 'å·¦æ‰‹æŒ‡è„«ä½' },
                { type: 'Sprain', icd: 'S63619A', english: 'sprain of left finger', chinese: 'å·¦æ‰‹æŒ‡æ‰­å‚·' },
                { type: 'Strain', icd: 'S66519A', english: 'strain of left finger', chinese: 'å·¦æ‰‹æŒ‡æ‹‰å‚·' }
            ],
            'å³æ‰‹æŒ‡': [
                { type: 'A/W', icd: 'S60419A', english: 'abrasion/wound of right finger', chinese: 'å³æ‰‹æŒ‡æ“¦å‚·' },
                { type: 'L/W', icd: 'S61219A', english: 'laceration/wound of right finger', chinese: 'å³æ‰‹æŒ‡æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S6000XA', english: 'contusion of right finger', chinese: 'å³æ‰‹æŒ‡æŒ«å‚·' },
                { type: 'Burn', icd: 'T23049A', english: 'burn of right finger', chinese: 'å³æ‰‹æŒ‡ç‡’å‚·' },
                { type: 'Crush', icd: 'S6720XA', english: 'crush injury of right finger', chinese: 'å³æ‰‹æŒ‡å£“ç ¸å‚·' },
                { type: 'Fracture', icd: 'S62609A', english: 'fracture of right finger', chinese: 'å³æ‰‹æŒ‡éª¨æŠ˜' },
                { type: 'Dislocation', icd: 'S63259A', english: 'dislocation of right finger', chinese: 'å³æ‰‹æŒ‡è„«ä½' },
                { type: 'Sprain', icd: 'S63619A', english: 'sprain of right finger', chinese: 'å³æ‰‹æŒ‡æ‰­å‚·' },
                { type: 'Strain', icd: 'S66519A', english: 'strain of right finger', chinese: 'å³æ‰‹æŒ‡æ‹‰å‚·' }
            ],
            'å·¦é«–éƒ¨': [
                { type: 'A/W', icd: 'S70219A', english: 'abrasion/wound of left hip', chinese: 'å·¦é«–éƒ¨æ“¦å‚·' },
                { type: 'L/W', icd: 'S71019A', english: 'laceration/wound of left hip', chinese: 'å·¦é«–éƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S7000XA', english: 'contusion of left hip', chinese: 'å·¦é«–éƒ¨æŒ«å‚·' },
                { type: 'Fracture', icd: 'M84359A', english: 'fracture of left hip(femoral neck/head/intertrochanteric/subtrochanteric)', chinese: 'å·¦é«–éƒ¨éª¨æŠ˜(è‚¡éª¨é ¸/è‚¡éª¨é ­/è½‰å­é–“/è½‰å­ä¸‹)' },
                { type: 'Crush', icd: 'S7700XA', english: 'crush injury of left hip', chinese: 'å·¦é«–éƒ¨å£“ç ¸å‚·' },
                { type: 'Dislocation', icd: 'S73006A', english: 'dislocation of left hip', chinese: 'å·¦é«–éƒ¨è„«ä½' },
                { type: 'Sprain', icd: 'S73109A', english: 'sprain of left hip', chinese: 'å·¦é«–éƒ¨æ‰­å‚·' },
                { type: 'Strain', icd: 'S76019A', english: 'strain of left hip', chinese: 'å·¦é«–éƒ¨æ‹‰å‚·' }
            ],
            'å³é«–éƒ¨': [
                { type: 'A/W', icd: 'S70219A', english: 'abrasion/wound of right hip', chinese: 'å³é«–éƒ¨æ“¦å‚·' },
                { type: 'L/W', icd: 'S71019A', english: 'laceration/wound of right hip', chinese: 'å³é«–éƒ¨æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S7000XA', english: 'contusion of right hip', chinese: 'å³é«–éƒ¨æŒ«å‚·' },
                { type: 'Fracture', icd: 'M84359A', english: 'fracture of right hip(femoral neck/head/intertrochanteric/subtrochanteric)', chinese: 'å³é«–éƒ¨éª¨æŠ˜(è‚¡éª¨é ¸/è‚¡éª¨é ­/è½‰å­é–“/è½‰å­ä¸‹)' },
                { type: 'Crush', icd: 'S7700XA', english: 'crush injury of right hip', chinese: 'å³é«–éƒ¨å£“ç ¸å‚·' },
                { type: 'Dislocation', icd: 'S73006A', english: 'dislocation of right hip', chinese: 'å³é«–éƒ¨è„«ä½' },
                { type: 'Sprain', icd: 'S73109A', english: 'sprain of right hip', chinese: 'å³é«–éƒ¨æ‰­å‚·' },
                { type: 'Strain', icd: 'S76019A', english: 'strain of right hip', chinese: 'å³é«–éƒ¨æ‹‰å‚·' }
            ],
            'å·¦å¤§è…¿': [
                { type: 'A/W', icd: 'S70319A', english: 'abrasion/wound of left thigh', chinese: 'å·¦å¤§è…¿æ“¦å‚·' },
                { type: 'L/W', icd: 'S71119A', english: 'laceration/wound of left thigh', chinese: 'å·¦å¤§è…¿æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S7010XA', english: 'contusion of left thigh', chinese: 'å·¦å¤§è…¿æŒ«å‚·' },
                { type: 'Fracture', icd: 'S7290XA', english: 'fracture of left femur', chinese: 'å·¦è‚¡éª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S7710XA', english: 'crush injury of left thigh', chinese: 'å·¦å¤§è…¿å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T24019A', english: 'burn of left thigh', chinese: 'å·¦å¤§è…¿ç‡’å‚·' },
                { type: 'Sprain', icd: 'S73119A', english: 'sprain of left thigh', chinese: 'å·¦å¤§è…¿æ‰­å‚·' },
                { type: 'Strain', icd: 'S76219A', english: 'strain of left thigh', chinese: 'å·¦å¤§è…¿æ‹‰å‚·' }
            ],
            'å³å¤§è…¿': [
                { type: 'A/W', icd: 'S70319A', english: 'abrasion/wound of right thigh', chinese: 'å³å¤§è…¿æ“¦å‚·' },
                { type: 'L/W', icd: 'S71119A', english: 'laceration/wound of right thigh', chinese: 'å³å¤§è…¿æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S7010XA', english: 'contusion of right thigh', chinese: 'å³å¤§è…¿æŒ«å‚·' },
                { type: 'Fracture', icd: 'S7290XA', english: 'fracture of right femur', chinese: 'å³è‚¡éª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S7710XA', english: 'crush injury of right thigh', chinese: 'å³å¤§è…¿å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T24019A', english: 'burn of right thigh', chinese: 'å³å¤§è…¿ç‡’å‚·' },
                { type: 'Sprain', icd: 'S73119A', english: 'sprain of right thigh', chinese: 'å³å¤§è…¿æ‰­å‚·' },
                { type: 'Strain', icd: 'S76219A', english: 'strain of right thigh', chinese: 'å³å¤§è…¿æ‹‰å‚·' }
            ],
            'å·¦è†': [
                { type: 'A/W', icd: 'S80219A', english: 'abrasion/wound of left knee', chinese: 'å·¦è†æ“¦å‚·' },
                { type: 'L/W', icd: 'S81019A', english: 'laceration/wound of left knee', chinese: 'å·¦è†æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S8000XA', english: 'contusion of left knee', chinese: 'å·¦è†æŒ«å‚·' },
                { type: 'Fracture', icd: 'é«•S82009A/ä¸Šè„›S82109A', english: 'fracture of left patella/proximal tibia', chinese: 'å·¦é«•éª¨/è„›éª¨ä¸Šç«¯éª¨æŠ˜' },
                { type: 'Crush', icd: 'S8700XA', english: 'crush injury of left knee', chinese: 'å·¦è†å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T24029A', english: 'burn of left knee', chinese: 'å·¦è†ç‡’å‚·' },
                { type: 'Dislocation', icd: 'S83106A', english: 'dislocation of left knee', chinese: 'å·¦è†è„«ä½' },
                { type: 'Sprain', icd: 'S8390XA', english: 'sprain of left knee', chinese: 'å·¦è†æ‰­å‚·' }
            ],
            'å³è†': [
                { type: 'A/W', icd: 'S80219A', english: 'abrasion/wound of right knee', chinese: 'å³è†æ“¦å‚·/å‚·å£' },
                { type: 'L/W', icd: 'S81019A', english: 'laceration/wound of right knee', chinese: 'å³è†æ’•è£‚å‚·/å‚·å£' },
                { type: 'Contusion', icd: 'S8000XA', english: 'contusion of right knee', chinese: 'å³è†æŒ«å‚·' },
                { type: 'Fracture', icd: 'é«•S82009A/ä¸Šè„›S82109A', english: 'fracture of right patella/proximal tibia', chinese: 'å³é«•éª¨/è„›éª¨ä¸Šç«¯éª¨æŠ˜' },
                { type: 'Crush', icd: 'S8700XA', english: 'crush injury of right knee', chinese: 'å³è†å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T24029A', english: 'burn of right knee', chinese: 'å³è†ç‡’å‚·' },
                { type: 'Dislocation', icd: 'S83106A', english: 'dislocation of right knee', chinese: 'å³è†è„«ä½' },
                { type: 'Sprain', icd: 'S8390XA', english: 'sprain of right knee', chinese: 'å³è†æ‰­å‚·' }
            ],
            'å·¦å°è…¿': [
                { type: 'A/W', icd: 'S80819A', english: 'abrasion/wound of left lower leg', chinese: 'å·¦å°è…¿æ“¦å‚·' },
                { type: 'L/W', icd: 'S81819A', english: 'laceration/wound of left lower leg', chinese: 'å·¦å°è…¿æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S8010XA', english: 'contusion of left lower leg', chinese: 'å·¦å°è…¿æŒ«å‚·' },
                { type: 'Fracture', icd: 'è„›S82209A/è…“S82409A', english: 'fracture of left tibia/fibula', chinese: 'å·¦è„›éª¨/è…“éª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S8780XA', english: 'crush injury of left lower leg', chinese: 'å·¦å°è…¿å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T24039A', english: 'burn of left lower leg', chinese: 'å·¦å°è…¿ç‡’å‚·' },
                { type: 'Strain', icd: 'S86919A', english: 'strain of left lower leg', chinese: 'å·¦å°è…¿æ‹‰å‚·' }
            ],
            'å³å°è…¿': [
                { type: 'A/W', icd: 'S80819A', english: 'abrasion/wound of right lower leg', chinese: 'å³å°è…¿æ“¦å‚·' },
                { type: 'L/W', icd: 'S81819A', english: 'laceration/wound of right lower leg', chinese: 'å³å°è…¿æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S8010XA', english: 'contusion of right lower leg', chinese: 'å³å°è…¿æŒ«å‚·' },
                { type: 'Fracture', icd: 'è„›S82209A/è…“S82409A', english: 'fracture of right tibia/fibula', chinese: 'å³è„›éª¨/è…“éª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S8780XA', english: 'crush injury of right lower leg', chinese: 'å³å°è…¿å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T24039A', english: 'burn of right lower leg', chinese: 'å³å°è…¿ç‡’å‚·' },
                { type: 'Strain', icd: 'S86919A', english: 'strain of right lower leg', chinese: 'å³å°è…¿æ‹‰å‚·' }
            ],
            'å·¦è¸': [
                { type: 'A/W', icd: 'S90519A', english: 'abrasion/wound of left ankle', chinese: 'å·¦è¸æ“¦å‚·/å‚·å£' },
                { type: 'L/W', icd: 'S91019A', english: 'laceration/wound of left ankle', chinese: 'å·¦è¸æ’•è£‚å‚·/å‚·å£' },
                { type: 'Contusion', icd: 'S9000XA', english: 'contusion of left ankle', chinese: 'å·¦è¸æŒ«å‚·' },
                { type: 'Fracture', icd: 'è„›S82209A/è…“S82409A', english: 'fracture of left distal tibia/fibula', chinese: 'å·¦é ç«¯è„›éª¨/è…“éª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S9700XA', english: 'crush injury of left ankle', chinese: 'å·¦è¸å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T25019A', english: 'burn of left ankle', chinese: 'å·¦è¸ç‡’å‚·' },
                { type: 'Dislocation', icd: 'S9306XA', english: 'dislocation of left ankle', chinese: 'å·¦è¸è„«ä½' },
                { type: 'Sprain', icd: 'S93409A', english: 'sprain of left ankle', chinese: 'å·¦è¸æ‰­å‚·' },
                { type: 'Strain', icd: 'S96919A', english: 'strain of left ankle', chinese: 'å·¦è¸æ‹‰å‚·' }
            ],
            'å³è¸': [
                { type: 'A/W', icd: 'S90519A', english: 'abrasion/wound of right ankle', chinese: 'å³è¸é—œç¯€æ“¦å‚·' },
                { type: 'L/W', icd: 'S91019A', english: 'laceration/wound of right ankle', chinese: 'å³è¸é—œç¯€æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S9000XA', english: 'contusion of right ankle', chinese: 'å³è¸é—œç¯€æŒ«å‚·' },
                { type: 'Fracture', icd: 'è„›S82209A/è…“S82409A', english: 'fracture of right distal tibia/fibula', chinese: 'å³é ç«¯è„›éª¨/è…“éª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S9700XA', english: 'crush injury of right ankle', chinese: 'å³è¸é—œç¯€å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T25019A', english: 'burn of right ankle', chinese: 'å³è¸é—œç¯€ç‡’å‚·' },
                { type: 'Dislocation', icd: 'S9306XA', english: 'dislocation of right ankle', chinese: 'å³è¸é—œç¯€è„«ä½' },
                { type: 'Sprain', icd: 'S93409A', english: 'sprain of right ankle', chinese: 'å³è¸é—œç¯€æ‰­å‚·' },
                { type: 'Strain', icd: 'S96919A', english: 'strain of right ankle', chinese: 'å³è¸é—œç¯€æ‹‰å‚·' }
            ],
            'å·¦è¶³éƒ¨': [
                { type: 'A/W', icd: 'S90819A', english: 'abrasion/wound of left foot', chinese: 'å·¦è¶³æ“¦å‚·' },
                { type: 'L/W', icd: 'S91319A', english: 'laceration/wound of left foot', chinese: 'å·¦è¶³æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S9030XA', english: 'contusion of left foot', chinese: 'å·¦è¶³æŒ«å‚·' },
                { type: 'Fracture', icd: 'S92309A', english: 'fracture of left metatarsal bone', chinese: 'å·¦è¹ éª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S9780XA', english: 'crush injury of left foot', chinese: 'å·¦è¶³å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T25029A', english: 'burn of left foot', chinese: 'å·¦è¶³éƒ¨ç‡’å‚·' },
                { type: 'Dislocation', icd: 'S93306A', english: 'dislocation of left foot', chinese: 'å·¦è¶³è„«ä½' },
                { type: 'Sprain', icd: 'S93609A', english: 'sprain of left foot', chinese: 'å·¦è¶³æ‰­å‚·' },
                { type: 'Strain', icd: 'S96919A', english: 'strain of left foot', chinese: 'å·¦è¶³æ‹‰å‚·' }
            ],
            'å³è¶³éƒ¨': [
                { type: 'A/W', icd: 'S90819A', english: 'abrasion/wound of right foot', chinese: 'å³è¶³æ“¦å‚·' },
                { type: 'L/W', icd: 'S91319A', english: 'laceration/wound of right foot', chinese: 'å³è¶³æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'S9030XA', english: 'contusion of right foot', chinese: 'å³è¶³æŒ«å‚·' },
                { type: 'Fracture', icd: 'S92309A', english: 'fracture of right metatarsal bone', chinese: 'å³è¹ éª¨éª¨æŠ˜' },
                { type: 'Crush', icd: 'S9780XA', english: 'crush injury of right foot', chinese: 'å³è¶³å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'T25029A', english: 'burn of right foot', chinese: 'å³è¶³ç‡’å‚·' },
                { type: 'Dislocation', icd: 'S93306A', english: 'dislocation of right foot', chinese: 'å³è¶³è„«ä½' },
                { type: 'Sprain', icd: 'S93609A', english: 'sprain of right foot', chinese: 'å³è¶³æ‰­å‚·' },
                { type: 'Strain', icd: 'S96919A', english: 'strain of right foot', chinese: 'å³è¶³æ‹‰å‚·' }
            ],
            'å·¦è…³è¶¾': [
                { type: 'A/W', icd: 'å¤§S90413A/å…¶ä»–S90416A', english: 'abrasion/wound of left toe', chinese: 'å·¦è…³è¶¾æ“¦å‚·' },
                { type: 'L/W', icd: 'å¤§S91113A/å…¶ä»–S91216A', english: 'laceration/wound of left toe', chinese: 'å·¦è…³è¶¾æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'å¤§S90119A/å…¶ä»–S90129A', english: 'contusion of left toe', chinese: 'å·¦è…³è¶¾æŒ«å‚·' },
                { type: 'Crush', icd: 'å¤§S97119A/å…¶ä»–S97129A', english: 'crush injury of left toe', chinese: 'å·¦è…³è¶¾å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'å¤§T25039A/å…¶ä»–T25039A', english: 'burn of left toe', chinese: 'å·¦è…³è¶¾ç‡’å‚·' },
                { type: 'Fracture', icd: 'å¤§S92499A/å…¶ä»–S92599A', english: 'fracture of left toe', chinese: 'å·¦è…³è¶¾éª¨æŠ˜' },
                { type: 'Sprain', icd: 'å¤§S93503A/å…¶ä»–S93506A', english: 'sprain of left toe', chinese: 'å·¦è…³è¶¾æ‰­å‚·' },
                { type: 'Dislocation', icd: 'S93106A', english: 'dislocation of left toe', chinese: 'å·¦è…³è¶¾è„«ä½' }
            ],
            'å³è…³è¶¾': [
                { type: 'A/W', icd: 'å¤§S90413A/å…¶ä»–S90416A', english: 'abrasion/wound of right toe', chinese: 'å³è…³è¶¾æ“¦å‚·' },
                { type: 'L/W', icd: 'å¤§S91113A/å…¶ä»–S91216A', english: 'laceration/wound of right toe', chinese: 'å³è…³è¶¾æ’•è£‚å‚·' },
                { type: 'Contusion', icd: 'å¤§S90119A/å…¶ä»–S90129A', english: 'contusion of right toe', chinese: 'å³è…³è¶¾æŒ«å‚·' },
                { type: 'Crush', icd: 'å¤§S97119A/å…¶ä»–S97129A', english: 'crush injury of right toe', chinese: 'å³è…³è¶¾å£“ç ¸å‚·' },
                { type: 'Burn', icd: 'å¤§T25039A/å…¶ä»–T25039A', english: 'burn of right toe', chinese: 'å³è…³è¶¾ç‡’å‚·' },
                { type: 'Fracture', icd: 'å¤§S92499A/å…¶ä»–S92599A', english: 'fracture of right toe', chinese: 'å³è…³è¶¾éª¨æŠ˜' },
                { type: 'Sprain', icd: 'å¤§S93503A/å…¶ä»–S93506A', english: 'sprain of right toe', chinese: 'å³è…³è¶¾æ‰­å‚·' },
                { type: 'Dislocation', icd: 'S93106A', english: 'dislocation of right toe', chinese: 'å³è…³è¶¾è„«ä½' }
            ]
        };
        
        let selectedInjuries = [];
        let currentMainPart = '';
        let currentSubPart = '';
        let currentView = 'front';

        function switchView(view) {
            currentView = view;
            
            document.querySelectorAll('.view-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            document.querySelectorAll('.diagram-container').forEach(container => {
                container.classList.remove('active');
            });
            document.getElementById(view + '-diagram').classList.add('active');
            
            hideSubParts();
            document.getElementById('injury-selector').classList.remove('active');
            document.querySelectorAll('.body-part').forEach(p => p.classList.remove('selected'));
        }

        function initializeBodyParts() {
            document.querySelectorAll('.body-part').forEach(part => {
                part.addEventListener('click', function() {
                    const partName = this.getAttribute('data-part');
                    
                    const currentDiagram = document.querySelector('.diagram-container.active');
                    currentDiagram.querySelectorAll('.body-part').forEach(p => p.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    if (subPartDatabase[partName]) {
                        currentMainPart = partName;
                        showSubPartSelector(partName);
                    } else {
                        showInjurySelector(partName);
                    }
                });
            });
        }

        function showSubPartSelector(partName) {
            const selector = document.getElementById('sub-part-selector');
            const title = document.getElementById('selected-main-part-title');
            const subPartsContainer = document.getElementById('sub-parts');
            
            document.getElementById('injury-selector').classList.remove('active');
            
            title.textContent = `${partName} - é¸æ“‡ç´°éƒ¨ä½ç½®`;
            selector.classList.add('active');
            
            subPartsContainer.innerHTML = '';
            
            subPartDatabase[partName].forEach(subPart => {
                const button = document.createElement('button');
                button.className = 'sub-part';
                button.textContent = subPart.part;
                button.addEventListener('click', () => {
                    currentSubPart = subPart.part;
                    showInjurySelector(subPart.part);
                });
                subPartsContainer.appendChild(button);
            });
        }

        function showInjurySelector(partName) {
            const selector = document.getElementById('injury-selector');
            const title = document.getElementById('selected-part-title');
            const typesContainer = document.getElementById('injury-types');
            
            document.getElementById('sub-part-selector').classList.remove('active');
            
            title.textContent = `${partName} - é¸æ“‡å¤–å‚·é¡å‹`;
            selector.classList.add('active');
            
            typesContainer.innerHTML = '';
            
            if (injuryDatabase[partName]) {
                injuryDatabase[partName].forEach(injury => {
                    const button = document.createElement('button');
                    button.className = 'injury-type';
                    button.textContent = injury.type;
                    button.addEventListener('click', () => addInjury(partName, injury));
                    typesContainer.appendChild(button);
                });
            }
        }

        function addInjury(partName, injury) {
            // å–å¾—è‹±æ–‡éƒ¨ä½åç¨±
            let englishPartName = getEnglishPartName(partName);
            
            const newInjury = {
                part: partName,
                englishPart: englishPartName,
                type: injury.type,
                icd: injury.icd,
                english: injury.english,
                chinese: injury.chinese,
                id: Date.now()
            };
            
            selectedInjuries.push(newInjury);
            updateInjuryList();
        }

        // æ–°å¢å‡½æ•¸ï¼šå–å¾—è‹±æ–‡éƒ¨ä½åç¨±
        function getEnglishPartName(chinesePart) {
            const partMapping = {
                'é ­éƒ¨': 'head',
                'è‡‰éƒ¨': 'face',
                'çœ¼éƒ¨': 'eyelid',
                'é¼»éƒ¨': 'nose',
                'è€³éƒ¨': 'ear',
                'è‡‰é °': 'cheek',
                'å£éƒ¨': 'lip',
                'ä¸‹é¡': 'jaw',
                'ä¸‹å·´': 'chin',
                'é ¸éƒ¨': 'neck',
                'èƒ¸éƒ¨': 'chest',
                'è…¹éƒ¨': 'abdomen',
                'æœƒé™°éƒ¨': 'perineum',
                'ä¸ŠèƒŒéƒ¨': 'upper back',
                'ä¸‹èƒŒéƒ¨': 'lower back',
                'è‡€éƒ¨': 'buttock',
                'é ¸æ¤': 'cervical vertebra',
                'èƒ¸æ¤': 'thoracic vertebra',
                'è…°æ¤': 'lumbar vertebra',
                'è–¦æ¤': 'sacrum',
                'å°¾æ¤': 'coccyx',
                'å·¦è‚©': 'left shoulder',
                'å³è‚©': 'right shoulder',
                'å·¦ä¸Šè‡‚': 'left upper arm',
                'å³ä¸Šè‡‚': 'right upper arm',
                'å·¦è‚˜éƒ¨': 'left elbow',
                'å³è‚˜éƒ¨': 'right elbow',
                'å·¦å‰è‡‚': 'left forearm',
                'å³å‰è‡‚': 'right forearm',
                'å·¦æ‰‹è…•': 'left wrist',
                'å³æ‰‹è…•': 'right wrist',
                'å·¦æ‰‹æŒ': 'left hand',
                'å³æ‰‹æŒ': 'right hand',
                'å·¦æ‰‹æŒ‡': 'left finger',
                'å³æ‰‹æŒ‡': 'right finger',
                'å·¦é«–éƒ¨': 'left hip',
                'å³é«–éƒ¨': 'right hip',
                'å·¦å¤§è…¿': 'left thigh',
                'å³å¤§è…¿': 'right thigh',
                'å·¦è†': 'left knee',
                'å³è†': 'right knee',
                'å·¦å°è…¿': 'left lower leg',
                'å³å°è…¿': 'right lower leg',
                'å·¦è¸': 'left ankle',
                'å³è¸': 'right ankle',
                'å·¦è¶³éƒ¨': 'left foot',
                'å³è¶³éƒ¨': 'right foot',
                'å·¦è…³è¶¾': 'left toe',
                'å³è…³è¶¾': 'right toe'
            };
            
            return partMapping[chinesePart] || chinesePart;
        }

        function removeInjury(id) {
            selectedInjuries = selectedInjuries.filter(injury => injury.id !== id);
            updateInjuryList();
        }

        function updateInjuryList() {
            const listContainer = document.getElementById('injury-list');
            
            if (selectedInjuries.length === 0) {
                listContainer.innerHTML = '<p>å°šæœªé¸æ“‡ä»»ä½•å¤–å‚·</p>';
                return;
            }
            
            listContainer.innerHTML = selectedInjuries.map(injury => `
                <div class="injury-item">
                    <div class="injury-details">
                        ${injury.icd} - ${injury.part} ${injury.type}<br>
                        ${injury.english} (${injury.englishPart || injury.part})
                    </div>
                    <button class="remove-injury" onclick="removeInjury(${injury.id})">Ã—</button>
                </div>
            `).join('');
        }

        function hideSubParts() {
            document.getElementById('sub-part-selector').classList.remove('active');
            document.querySelectorAll('.body-part').forEach(p => p.classList.remove('selected'));
        }

        function backToSubParts() {
            if (currentMainPart && subPartDatabase[currentMainPart]) {
                document.getElementById('injury-selector').classList.remove('active');
                showSubPartSelector(currentMainPart);
            } else {
                document.getElementById('injury-selector').classList.remove('active');
            }
        }

        function clearReport() {
            const reportOutput = document.getElementById('report-output');
            reportOutput.textContent = '';
            reportOutput.classList.remove('active');
            
            selectedInjuries = [];
            updateInjuryList();
            hideSubParts();
            document.getElementById('injury-selector').classList.remove('active');
            document.querySelectorAll('.body-part').forEach(p => p.classList.remove('selected'));
        }

        // æ–°çš„ç”¢ç”Ÿå ±å‘Šå‡½æ•¸ - çµ„åˆç›¸åŒå‚·å®³é¡å‹
        function generateReport() {
            const reportOutput = document.getElementById('report-output');
    
            if (selectedInjuries.length === 0) {
                alert('è«‹å…ˆé¸æ“‡è‡³å°‘ä¸€é …å¤–å‚·ï¼');
                return;
            }
            
            // æŒ‰å‚·å®³é¡å‹åˆ†çµ„
            const groupedByType = {};
            
            selectedInjuries.forEach(injury => {
                if (!groupedByType[injury.type]) {
                    groupedByType[injury.type] = {
                        chineseParts: [],
                        englishParts: [],
                        englishDescriptions: [], // æ–°å¢ï¼šå„²å­˜å®Œæ•´è‹±æ–‡æè¿°
                        icds: []
                    };
                }
                
                groupedByType[injury.type].chineseParts.push(injury.part);
                // å¦‚æœæ²’æœ‰ englishPart å±¬æ€§ï¼Œä½¿ç”¨ getEnglishPartName å‡½æ•¸å–å¾—
                const englishPart = injury.englishPart || getEnglishPartName(injury.part);
                groupedByType[injury.type].englishParts.push(englishPart);
                groupedByType[injury.type].englishDescriptions.push(injury.english); // å„²å­˜åŸå§‹è‹±æ–‡æè¿°
                groupedByType[injury.type].icds.push(`${injury.icd} - ${injury.part}${injury.type}`);
            });
            
            let icdSection = '';
            let chineseSection = '';
            let englishSection = '';
            
            // ç”Ÿæˆçµ„åˆå¾Œçš„å ±å‘Š
            Object.keys(groupedByType).forEach(type => {
                const group = groupedByType[type];
                
                // ICD éƒ¨åˆ†ä¿æŒåŸæ¨£ (æ¯ä¸€é …åˆ†åˆ¥åˆ—å‡º)
                group.icds.forEach(icd => {
                    icdSection += `${icd}\n`;
                });
                
                // ä¸­æ–‡éƒ¨åˆ† - çµ„åˆç›¸åŒé¡å‹çš„éƒ¨ä½
                const chineseParts = group.chineseParts.join('ã€');
                let chineseType = '';
                
                // æ ¹æ“šå‚·å®³é¡å‹è¨­å®šä¸­æ–‡æè¿°
                switch(type) {
                    case 'A/W':
                        chineseType = 'æ“¦å‚·';
                        break;
                    case 'L/W':
                        chineseType = 'æ’•è£‚å‚·';
                        break;
                    case 'Contusion':
                        chineseType = 'æŒ«å‚·';
                        break;
                    case 'Fracture':
                        chineseType = 'éª¨æŠ˜';
                        break;
                    case 'Crush':
                        chineseType = 'å£“ç ¸å‚·';
                        break;
                    case 'Burn':
                        chineseType = 'ç‡’å‚·';
                        break;
                    case 'Dislocation':
                        chineseType = 'è„«ä½';
                        break;
                    case 'Sprain':
                        chineseType = 'æ‰­å‚·';
                        break;
                    case 'Strain':
                        chineseType = 'æ‹‰å‚·';
                        break;
                    case 'Concussion':
                        chineseType = 'è…¦éœ‡ç›ª';
                        break;
                    case 'ICH':
                        chineseType = 'è…¦å…§å‡ºè¡€';
                        break;
                    case 'SDH':
                        chineseType = 'ç¡¬è…¦è†œä¸‹å‡ºè¡€';
                        break;
                    case 'SAH':
                        chineseType = 'èœ˜è››è†œä¸‹è…”å‡ºè¡€';
                        break;
                    case 'EDH':
                        chineseType = 'ç¡¬è…¦è†œå¤–å‡ºè¡€';
                        break;
                    default:
                        chineseType = type;
                }
                
                chineseSection += `*. ${chineseParts}${chineseType}\n`;
                
                // è‹±æ–‡éƒ¨åˆ† - ç‰¹æ®Šè™•ç†è…¦éƒ¨å¤–å‚·
                if (['ICH', 'SDH', 'SAH', 'EDH', 'Concussion'].includes(type)) {
                    // å°æ–¼è…¦éƒ¨å¤–å‚·ï¼Œç›´æ¥ä½¿ç”¨è³‡æ–™åº«ä¸­çš„è‹±æ–‡æè¿°
                    if (group.englishDescriptions.length === 1) {
                        // åªæœ‰ä¸€å€‹æ™‚ï¼Œç›´æ¥ä½¿ç”¨
                        englishSection += `*. ${group.englishDescriptions[0]}\n`;
                    } else {
                        // å¤šå€‹ç›¸åŒé¡å‹æ™‚ï¼Œå»é‡è¤‡å¾Œåˆ—å‡º
                        const uniqueDescriptions = [...new Set(group.englishDescriptions)];
                        uniqueDescriptions.forEach(desc => {
                            englishSection += `*. ${desc}\n`;
                        });
                    }
                } else {
                    // ä¸€èˆ¬å¤–å‚·çš„è™•ç†æ–¹å¼
                    const englishParts = group.englishParts.join(', ');
                    let englishType = '';
                    
                    // æ ¹æ“šå‚·å®³é¡å‹è¨­å®šè‹±æ–‡æè¿°
                    switch(type) {
                        case 'A/W':
                            englishType = 'abrasion/wound of';
                            break;
                        case 'L/W':
                            englishType = 'laceration/wound of';
                            break;
                        case 'Contusion':
                            englishType = 'contusion of';
                            break;
                        case 'Fracture':
                            englishType = 'fracture of';
                            break;
                        case 'Crush':
                            englishType = 'crush injury of';
                            break;
                        case 'Burn':
                            englishType = 'burn of';
                            break;
                        case 'Dislocation':
                            englishType = 'dislocation of';
                            break;
                        case 'Sprain':
                            englishType = 'sprain of';
                            break;
                        case 'Strain':
                            englishType = 'strain of';
                            break;
                        default:
                            englishType = type.toLowerCase() + ' of';
                    }
                    
                    englishSection += `*. ${englishType} ${englishParts}\n`;
                }
            });
            
            let report = icdSection + '\n' + chineseSection + '\n' + englishSection;
    
            reportOutput.textContent = report.trim();
            reportOutput.classList.add('active');
        }

        document.addEventListener('DOMContentLoaded', function() {
            initializeBodyParts();
        });
    </script>
</body>
</html>
